{% extends "base.html" %}

{% block title %}Komunitas TV Digital Indonesia{% endblock %}

{% block content %}
  <div class="container">
    <h1>Login</h1>
    <form method="POST" action="{{ url_for('login') }}">
      <input type="text" name="username" placeholder="Username" required>

      <div class="password-wrapper">
        <input type="password" id="password" name="password" placeholder="Password" required>
        <span class="toggle-password" onclick="togglePassword()">👁️</span>
      </div>

      <button type="submit">Masuk</button>
    </form>

    <a href="/forgot-password" class="forgot">Lupa Password?</a>
    
    <div class="flash-message-container">
    {% if error %}
      <p>{{ error }}</p>
    {% endif %}
    </div>
  </div>

  <script>
    function togglePassword() {
      const password = document.getElementById("password");
      const toggle = document.querySelector(".toggle-password");

      if (password.type === "password") {
        password.type = "text";
        toggle.textContent = "🙈";
      } else {
        password.type = "password";
        toggle.textContent = "👁️";
      }
    }
  </script>
{% endblock %}
