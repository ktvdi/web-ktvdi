{% extends 'base.html' %}

{% block content %}
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.0/dist/hls.min.js"></script>

<style>
    /* --- VARIABLES --- */
    :root {
        --primary: #1e3a8a; /* KTVDI Blue */
        --primary-dark: #0f172a;
        --accent: #2563eb;
        --bg-body: #f8fafc;
    }

    body { font-family: 'Inter', sans-serif; background-color: var(--bg-body); -webkit-tap-highlight-color: transparent; }

    /* --- UTILS --- */
    .premium-scroll::-webkit-scrollbar { width: 5px; }
    .premium-scroll::-webkit-scrollbar-track { background: transparent; }
    .premium-scroll::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 10px; }

    /* --- MARQUEE --- */
    .marquee-container { position: relative; overflow: hidden; height: 100%; display: flex; align-items: center; }
    .marquee-content {
        display: inline-block; white-space: nowrap;
        animation: marquee-slide 60s linear infinite;
        padding-left: 100%; font-size: 0.75rem; font-weight: 600; color: #475569;
    }
    @keyframes marquee-slide { 0% { transform: translateX(0); } 100% { transform: translateX(-100%); } }

    /* --- PLAYER CARD --- */
    .player-card {
        border-radius: 16px; overflow: hidden; background: #000;
        box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.2);
        display: flex; flex-direction: column;
    }
    
    /* Header Responsive Mobile */
    .player-header {
        background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
        padding: 12px 16px; color: white;
        display: flex; justify-content: space-between; align-items: center;
    }
    .cam-info-mobile {
        display: flex; flex-direction: column;
        line-height: 1.2;
    }
    .cam-city-label {
        font-size: 0.65rem; font-weight: 700; color: #93c5fd; text-transform: uppercase; letter-spacing: 0.5px;
    }
    .cam-name-label {
        font-size: 0.95rem; font-weight: 800; color: white;
        max-width: 220px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }

    /* Video Wrapper (16:9 Fixed) */
    .video-wrapper {
        position: relative; width: 100%; padding-top: 56.25%;
        background: #020617;
    }
    /* KEMBALI KE FILL UNTUK MEMAKSA 16:9 */
    .video-element {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: fill; 
    }

    /* --- ACCORDION LIST --- */
    .accordion-group { margin-bottom: 8px; border: 1px solid #e2e8f0; border-radius: 12px; background: white; overflow: hidden; }
    .group-header {
        padding: 12px 14px; cursor: pointer; display: flex; justify-content: space-between; align-items: center;
        background: #fff; transition: all 0.2s;
    }
    .group-header:hover { background: #f8fafc; }
    .group-header.active { background: #eff6ff; border-bottom: 1px solid #dbeafe; }
    .group-title { font-size: 0.75rem; font-weight: 800; color: var(--primary); text-transform: uppercase; display: flex; align-items: center; gap: 8px; }
    .group-body { max-height: 0; overflow: hidden; transition: max-height 0.4s ease; background: #ffffff; }
    .group-body.open { max-height: 5000px; }

    /* --- LIST ITEM --- */
    .cam-item {
        padding: 10px 14px; border-bottom: 1px solid #f1f5f9; cursor: pointer;
        display: flex; align-items: center; gap: 10px; transition: all 0.2s;
    }
    .cam-item:hover { background-color: #f8fafc; padding-left: 18px; }
    .cam-item.active { background-color: #eff6ff; border-left: 3px solid #2563eb; }
    .cam-item.active .cam-name { color: #1e40af; font-weight: 700; }
    .cam-name { font-size: 0.8rem; font-weight: 500; color: #475569; white-space: normal; line-height: 1.3; }

    /* --- LOADING ANIMATION --- */
    .logo-pulse { animation: pulse-logo 2s infinite ease-in-out; }
    @keyframes pulse-logo { 0%, 100% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.05); opacity: 0.7; } }

    /* --- RESOLUTION MONITOR --- */
    .signal-container {
        display: flex; flex-direction: column; align-items: flex-end;
    }
    .signal-bars { display: flex; align-items: flex-end; gap: 2px; height: 10px; }
    .bar { width: 3px; background: #94a3b8; border-radius: 1px; transition: height 0.3s, background 0.3s; }
    .bar.active { background: #22c55e; } 
    .bar:nth-child(1) { height: 4px; }
    .bar:nth-child(2) { height: 6px; }
    .bar:nth-child(3) { height: 8px; }
    .bar:nth-child(4) { height: 10px; }
    .net-label { font-size: 0.65rem; font-weight: 700; color: #64748b; margin-top: 1px; }

    /* --- RESPONSIVE LAYOUT --- */
    @media (min-width: 1024px) {
        .layout-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 1.5rem; align-items: start; }
        .col-player { grid-column: span 9; position: sticky; top: 90px; }
        .col-list { grid-column: span 3; height: calc(100vh - 110px); overflow: hidden; display: flex; flex-direction: column; }
        .list-scroll-area { flex: 1; overflow-y: auto; }
        .cam-name-label { font-size: 1rem; max-width: 400px; }
    }
    @media (max-width: 1023px) {
        .layout-grid { display: flex; flex-direction: column; gap: 1rem; padding: 1rem !important; }
        .col-player { width: 100%; }
        .col-list { width: 100%; height: auto; }
        .list-scroll-area { height: auto; max-height: 500px; overflow-y: auto; }
        .cam-name-label { font-size: 0.85rem; }
    }
</style>

<div class="min-h-screen w-full flex flex-col text-slate-800" id="main-content">

    <nav class="bg-white/95 backdrop-blur-md border-b border-slate-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-[1920px] mx-auto px-4 lg:px-6 py-3 flex flex-col md:flex-row items-center justify-between gap-4">
            <div class="flex items-center gap-3 w-full md:w-auto navbar-brand">
                <div class="w-10 h-10 bg-gradient-to-br from-blue-900 to-blue-800 rounded-xl flex items-center justify-center shadow-lg shadow-blue-900/20 shrink-0 p-1">
                    <img src="https://iili.io/f87539s.png" alt="KTVDI CCTV" class="w-6 h-6 object-contain brightness-0 invert">
                </div>
                <div class="flex-1 min-w-0">
                    <h1 class="text-slate-900 font-extrabold text-lg tracking-tight leading-none">KTVDI <span class="text-blue-700">SMART CITY</span></h1>
                    <p class="text-[10px] text-slate-500 font-medium mt-0.5 leading-snug">Portal LIVE CCTV terkini untuk memantau arus lalu lintas.</p>
                </div>
            </div>
            <div class="relative w-full md:w-80 group">
                <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                    <i class="fa-solid fa-magnifying-glass text-slate-400 group-focus-within:text-blue-700 transition-colors"></i>
                </div>
                <input type="text" id="search-input" onkeyup="handleSearch()" class="w-full bg-slate-50 border border-slate-200 text-slate-700 text-sm rounded-full py-2 pl-11 pr-5 focus:outline-none focus:border-blue-700 focus:bg-white focus:ring-2 focus:ring-blue-500/20 transition-all font-medium placeholder:text-slate-400 shadow-inner" placeholder="Cari lokasi kamera...">
            </div>
        </div>
    </nav>

    <div class="max-w-[1920px] mx-auto w-full p-4 lg:p-6 layout-grid">

        <main class="col-player">
            <div class="player-card">
                <div class="player-header">
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-1.5 bg-black/20 px-2.5 py-1 rounded-lg border border-white/10 shrink-0">
                            <span class="relative flex h-2 w-2">
                              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"></span>
                              <span class="relative inline-flex rounded-full h-2 w-2 bg-red-500"></span>
                            </span>
                            <span class="text-[9px] font-bold tracking-wider">LIVE</span>
                        </div>
                        
                        <div class="cam-info-mobile">
                            <span id="active-cam-city" class="cam-city-label">PILIH LOKASI</span>
                            <span id="active-cam-name" class="cam-name-label">Kamera Belum Dipilih</span>
                        </div>
                    </div>
                    
                    <div class="flex items-center gap-2 text-[10px] bg-white/10 px-2 py-1 rounded border border-white/20 shrink-0">
                         <i class="fa-solid fa-shield-halved text-emerald-400"></i> <span class="hidden sm:inline">Secure</span>
                    </div>
                </div>

                <div class="video-wrapper group">
                    <video id="video-element" class="video-element" autoplay muted playsinline crossorigin="anonymous"></video>

                    <div id="overlay-loading" class="absolute inset-0 bg-[#0f172a] z-40 flex flex-col items-center justify-center text-center p-4">
                        <div class="relative w-20 h-20 mb-4 logo-pulse">
                            <div class="absolute inset-0 bg-blue-600/30 rounded-full blur-xl"></div>
                            <img src="https://iili.io/f87539s.png" alt="Loading" class="w-full h-full object-contain brightness-0 invert drop-shadow-lg relative z-10">
                        </div>
                        <h3 class="text-white font-extrabold text-lg tracking-widest mb-1">KTVDI CCTV</h3>
                        <p class="text-blue-400 text-xs font-semibold animate-pulse">Sedang loading play Camera...</p>
                    </div>

                    <div id="overlay-play" class="absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm cursor-pointer transition-all hidden" onclick="startPlayback()">
                        <div class="w-16 h-16 bg-white/10 border-2 border-white/40 rounded-full flex items-center justify-center hover:scale-110 transition-transform">
                            <i class="fa-solid fa-play text-white text-3xl ml-1"></i>
                        </div>
                    </div>

                    <div id="overlay-error" class="absolute inset-0 bg-slate-900 z-40 hidden flex flex-col items-center justify-center text-center px-6">
                        <i class="fa-solid fa-video-slash text-slate-500 text-4xl mb-3"></i>
                        <h4 class="text-white font-bold mb-2">Kamera Offline</h4>
                        <p class="text-slate-400 text-xs mb-4">Koneksi Internet dari Kamera terputus.</p>
                        <p class="text-yellow-500 text-[10px] mb-2 hidden" id="http-warning">PENTING: Kamera ini menggunakan HTTP. Mohon izinkan "Insecure Content" di pengaturan browser Anda agar bisa diputar.</p>
                        <button onclick="retryStream()" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold rounded-full shadow-lg">Coba Lagi</button>
                    </div>
                </div>

                <div class="bg-slate-900 px-4 py-2.5 flex items-center justify-between border-t border-slate-800">
                    <div class="flex items-center gap-3">
                         <div class="text-[10px] text-slate-400 font-mono tracking-wider">PANTAUAN CCTV TERKINI</div>
                    </div>
                    <div class="flex items-center gap-2">
                        <button onclick="retryStream()" class="text-slate-400 hover:text-white px-3 py-1.5 rounded hover:bg-slate-800 transition" title="Reload"><i class="fa-solid fa-rotate-right text-sm"></i></button>
                        <button onclick="toggleFullscreen()" class="text-slate-400 hover:text-white px-3 py-1.5 rounded hover:bg-slate-800 transition" title="Fullscreen"><i class="fa-solid fa-expand text-sm"></i></button>
                    </div>
                </div>
            </div>

            <div class="mt-4 bg-white border border-slate-200 p-3 rounded-xl shadow-sm flex flex-col gap-3">
                <div class="flex flex-wrap justify-between items-center gap-3">
                    
                    <div class="flex items-center gap-3 bg-slate-50 px-3 py-2 rounded-lg border border-slate-100">
                        <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-700">
                            <i class="fa-regular fa-clock"></i>
                        </div>
                        <div>
                            <div id="digital-clock" class="text-slate-900 font-bold text-sm leading-none">00:00:00</div>
                            <div id="date-display" class="text-[10px] text-slate-500 font-semibold uppercase mt-0.5">...</div>
                        </div>
                    </div>

                    <div class="flex items-center gap-3 bg-slate-50 px-3 py-2 rounded-lg border border-slate-100">
                        <div class="signal-container">
                            <div class="signal-bars" id="signal-meter">
                                <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
                            </div>
                            <span class="net-label" id="resolution-display">DETECTING...</span>
                        </div>
                    </div>

                </div>
                
                <div class="relative bg-slate-50 border border-slate-200 rounded-lg h-8 flex items-center overflow-hidden">
                    <div class="bg-blue-800 h-full px-3 flex items-center justify-center shrink-0 z-10"><i class="fa-solid fa-bullhorn text-white text-xs"></i></div>
                    <div class="marquee-container w-full bg-white">
                        <div class="marquee-content">INFORMASI PENTING: KHUSUS CCTV PEMALANG BOJONG BARAT WAJIB MENGIZINKAN 'INSECURE CONTENT' DI BROWSER KARENA MENGGUNAKAN SERVER HTTP. JIKA TIDAK, VIDEO TIDAK AKAN MUNCUL.</div>
                    </div>
                </div>
            </div>
        </main>

        <aside class="col-list bg-white rounded-xl border border-slate-200 shadow-lg">
            <div class="p-4 border-b border-slate-100 bg-white sticky top-0 z-20 flex justify-between items-center">
                <div>
                    <h3 class="font-extrabold text-slate-800 text-sm">Daftar Lokasi</h3>
                    <p class="text-[10px] text-slate-500">Pilih kota untuk melihat kamera</p>
                </div>
                <span class="text-[10px] bg-blue-50 text-blue-700 px-2 py-1 rounded font-bold border border-blue-100" id="total-cams">Loading...</span>
            </div>
            <div id="camera-list-container" class="list-scroll-area premium-scroll p-2 bg-slate-50"></div>
            <div class="p-3 bg-white border-t border-slate-200 text-center text-[10px] text-slate-400 font-medium">Â© 2026 KTVDI Network</div>
        </aside>

    </div>
</div>

<script>
    // ==========================================
    // 1. DATA SOURCE LENGKAP
    // ==========================================
    const streamSource = [
        // --- KOTA KEDIRI (Baru) ---
        {city: "KOTA KEDIRI", name: "SP MUNING", url: "https://pplterpadu.kedirikota.go.id:8888/muning/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "ISKANDARMUDA", url: "https://pplterpadu.kedirikota.go.id:8888/iskandar_muda/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "SP ALUN ALUN", url: "https://pplterpadu.kedirikota.go.id:8888/alun_alun/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "SP BANDAR NGALIM", url: "https://pplterpadu.kedirikota.go.id:8888/bandar_ngalim/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "A YANI UTARA", url: "https://pplterpadu.kedirikota.go.id:8888/a_yani_utara/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "SP WATER TORN", url: "https://pplterpadu.kedirikota.go.id:8888/water_torn/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "SP NABATIYASA", url: "https://pplterpadu.kedirikota.go.id:8888/nabatiasa/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "SP MRICAN", url: "https://pplterpadu.kedirikota.go.id:8888/mrican/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "SP SEMAMPIR", url: "https://pplterpadu.kedirikota.go.id:8888/semampir/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "SP BARUNA", url: "https://pplterpadu.kedirikota.go.id:8888/baruna/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "SP JETIS", url: "https://pplterpadu.kedirikota.go.id:8888/jetis/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "SP DANDANGAN", url: "https://pplterpadu.kedirikota.go.id:8888/dandangan/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "A YANI SELATAN", url: "https://pplterpadu.kedirikota.go.id:8888/a_yani_selatan/stream.m3u8"},
        {city: "KOTA KEDIRI", name: "SP TAMANAN", url: "https://pplterpadu.kedirikota.go.id:8888/tamanan/stream.m3u8"},

        // --- KOTA SEMARANG (Updated) ---
        {city: "KOTA SEMARANG", name: "PUCANG GADING", url: "https://livepantau.semarangkota.go.id/4e5124df-a142-48a8-bd62-8e4fbbb2f4d2/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SIMPANG SAMBIROTO", url: "https://livepantau.semarangkota.go.id/fa9858c8-dcf7-4dc0-8f96-7b60f7e4b19e/index.m3u8"},
        {city: "KOTA SEMARANG", name: "FATMAWATI", url: "https://livepantau.semarangkota.go.id/450637c1-89ac-4a1e-b9de-e5f7a2589546/index.m3u8"},
        {city: "KOTA SEMARANG", name: "TLOGOSARI", url: "https://livepantau.semarangkota.go.id/f4383a63-65d4-45ec-ae76-0178283a8f00/index.m3u8"},
        {city: "KOTA SEMARANG", name: "BAWAH TOL X3W_IN", url: "https://livepantau.semarangkota.go.id/d75b3832-9dab-42f9-bb56-07e067a621f0/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SUPRIYADI", url: "https://livepantau.semarangkota.go.id/e2bd6091-9583-4cf3-933d-c9cbf3005b50/index.m3u8"},
        {city: "KOTA SEMARANG", name: "PASAR BANYUMANIK", url: "https://livepantau.semarangkota.go.id/eba6cb06-ff6b-4612-ad3f-434c46024b1b/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SIMP SUKUN", url: "https://livepantau.semarangkota.go.id/94cb1794-3557-4aac-8ae8-55f24eb57cf1/index.m3u8"},
        {city: "KOTA SEMARANG", name: "EXIT TOL SRONDOL", url: "https://livepantau.semarangkota.go.id/dba22b43-3f61-4b10-b186-99f3bd391beb/index.m3u8"},
        {city: "KOTA SEMARANG", name: "PATUNG DIPONEGORO", url: "https://livepantau.semarangkota.go.id/26430657-db34-4d14-93ed-a61da0d8f73a/index.m3u8"},
        {city: "KOTA SEMARANG", name: "BUKIT SARI", url: "https://livepantau.semarangkota.go.id/1ad60231-a328-4f1f-9da7-8a13539e7b43/index.m3u8"},
        {city: "KOTA SEMARANG", name: "FLY OVER JATINGALEH", url: "https://livepantau.semarangkota.go.id/6b12c86e-54c5-4570-b44a-804207dab56d/index.m3u8"},
        {city: "KOTA SEMARANG", name: "KALIWIRU", url: "https://livepantau.semarangkota.go.id/b369a0af-88cd-4936-8b08-053426da9db3/index.m3u8"},
        {city: "KOTA SEMARANG", name: "DONBOSKO", url: "https://livepantau.semarangkota.go.id/cd95af9c-25da-4b2b-afdb-03b68d6d2812/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SP.AKPOL", url: "https://livepantau.semarangkota.go.id/57f00bd9-85d0-409e-9f2a-9ad95a70013e/index.m3u8"},
        {city: "KOTA SEMARANG", name: "BUNDARAN DIPONEGORO", url: "https://livepantau.semarangkota.go.id/73c4eb84-5df6-4045-ab61-b88d9615d2ba/index.m3u8"},
        {city: "KOTA SEMARANG", name: "EXIT TOL GAYAMSARI", url: "https://livepantau.semarangkota.go.id/1ec1d244-b39b-4aa7-a899-11d427cc1dc3/index.m3u8"},
        {city: "KOTA SEMARANG", name: "LAMPER - GAJAH", url: "https://livepantau.semarangkota.go.id/48883015-ceca-44ab-bfc2-a27c88e932c4/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SIMP KELINCI", url: "https://livepantau.semarangkota.go.id/7487c63b-6b49-4350-a05f-3cf15a570bef/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SIMPANG CINDE", url: "https://livepantau.semarangkota.go.id/7e7ce611-d50c-4bbb-a09a-fe439e6b60ab/index.m3u8"},
        {city: "KOTA SEMARANG", name: "PASAR KAMBING 360", url: "https://livepantau.semarangkota.go.id/bc0d8173-870c-40e5-ba40-cf070ba7cd00/index.m3u8"},
        {city: "KOTA SEMARANG", name: "PETERONGAN", url: "https://livepantau.semarangkota.go.id/ec5b7344-a6fa-4143-adc3-8d543b73d72d/index.m3u8"},
        {city: "KOTA SEMARANG", name: "MILO", url: "https://livepantau.semarangkota.go.id/6590ae1a-91e9-41cf-94a4-1762215fd7d8/index.m3u8"},
        {city: "KOTA SEMARANG", name: "BANGKONG", url: "https://livepantau.semarangkota.go.id/869da077-23a8-43ff-ab0a-bd9f714fb651/index.m3u8"},
        {city: "KOTA SEMARANG", name: "MT HARYONO", url: "https://livepantau.semarangkota.go.id/c8232308-7354-4c6e-b874-fb37bb2f0fce/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SRIWIJAYA 02", url: "https://livepantau.semarangkota.go.id/032df191-c1c2-4290-9404-c1a8a3aab942/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SRIWIJAYA 01", url: "https://livepantau.semarangkota.go.id/1b98159e-9e0b-4711-9fbd-8bee77cd467e/index.m3u8"},
        {city: "KOTA SEMARANG", name: "KI MANGUN SARKORO", url: "https://livepantau.semarangkota.go.id/28b42a64-fb48-426f-915b-25c6201c902e/index.m3u8"},
        {city: "KOTA SEMARANG", name: "POLDA 360", url: "https://livepantau.semarangkota.go.id/cd721471-0456-40f2-85bf-a5f75f719ccd/index.m3u8"},
        {city: "KOTA SEMARANG", name: "PAHLAWAN PTZ 01", url: "https://livepantau.semarangkota.go.id/8231d941-4c80-4fc4-be54-36f87c0712c0/index.m3u8"},
        {city: "KOTA SEMARANG", name: "PAHLAWAN PTZ 02", url: "https://livepantau.semarangkota.go.id/9ca4ca7a-af67-429d-9f84-a94305b6675e/index.m3u8"},
        {city: "KOTA SEMARANG", name: "PAHLAWAN 108", url: "https://livepantau.semarangkota.go.id/f2ddd597-bef0-44e3-b565-1da59f9296c1/index.m3u8"},
        {city: "KOTA SEMARANG", name: "ARAH TUGU TUNAS", url: "https://livepantau.semarangkota.go.id/35fb378b-7272-4df2-a2c4-2410603ce8d0/index.m3u8"},
        {city: "KOTA SEMARANG", name: "ARAH PANDANARAN", url: "https://livepantau.semarangkota.go.id/47872c5e-eff5-4460-bf64-286d1cf8c6a5/index.m3u8"},
        {city: "KOTA SEMARANG", name: "DPU PAHLAWAN", url: "https://livepantau.semarangkota.go.id/fe3edfd6-566c-43fa-923e-75ab02bc20b5/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SIMPANG 5 1 360", url: "https://livepantau.semarangkota.go.id/54315845-9bf9-4763-aafb-2a1429af7791/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SIMPANG 5 2", url: "https://livepantau.semarangkota.go.id/2e170bba-8901-4e67-98db-303985dd5ee8/index.m3u8"},
        {city: "KOTA SEMARANG", name: "SIMPANG TENTREM MALL", url: "https://livepantau.semarangkota.go.id/cadc5250-4f58-4d1a-beeb-f732870b334c/index.m3u8"},
        {city: "KOTA SEMARANG", name: "GAJAHMADA", url: "https://livepantau.semarangkota.go.id/3dd95ebe-cc04-46ab-994a-169217ab1ec0/index.m3u8"},
        {city: "KOTA SEMARANG", name: "BERGOTA 360", url: "https://livepantau.semarangkota.go.id/00b846d2-3d5c-460a-81cd-5ff98ac5c344/index.m3u8"},
        {city: "KOTA SEMARANG", name: "METRO JOHAR", url: "https://livepantau.semarangkota.go.id/7eb83e3a-7da9-4fc7-89d8-7f7097ce8a37/index.m3u8"},
        {city: "KOTA SEMARANG", name: "PEMUDA - GAJAHMADA", url: "https://livepantau.semarangkota.go.id/eb8b40e8-f478-41f9-a798-10c3c45cc40b/index.m3u8"},
        {city: "KOTA SEMARANG", name: "INDAPRASTA - IMAM BONJOL", url: "https://livepantau.semarangkota.go.id/7025026d-8fb1-440a-91d7-739e37f3e454/index.m3u8"},
        {city: "KOTA SEMARANG", name: "BALAIKOTA", url: "https://livepantau.semarangkota.go.id/c38a58fe-41a8-40f4-bd3e-4a0624254db9/index.m3u8"},
        {city: "KOTA SEMARANG", name: "KALIGARANG", url: "https://livepantau.semarangkota.go.id/9d68584f-0cc8-44a3-b700-909fa45e7a60/index.m3u8"},
        {city: "KOTA SEMARANG", name: "TUGUMUDA 2", url: "https://livepantau.semarangkota.go.id/6fd796aa-34f9-453d-a185-d4cf1ff09b9b/index.m3u8"},
        {city: "KOTA SEMARANG", name: "TUGUMUDA 3", url: "https://livepantau.semarangkota.go.id/d4ef57b1-07e4-4fb7-b8b6-398ff4729c00/index.m3u8"},
        {city: "KOTA SEMARANG", name: "TUGUMUDA", url: "https://livepantau.semarangkota.go.id/e15190fa-2a8a-4a8d-8c35-c38979858d58/index.m3u8"},
        {city: "KOTA SEMARANG", name: "BUNDARAN MADUKORO", url: "https://livepantau.semarangkota.go.id/8292a7fa-1076-48c2-a807-cd1836237ab0/index.m3u8"},
        {city: "KOTA SEMARANG", name: "PASAR KARANGAYU", url: "https://livepantau.semarangkota.go.id/8e1e3a55-d822-48a0-b822-ed2405f4d45d/index.m3u8"},
        {city: "KOTA SEMARANG", name: "TAMAN SAMPANGAN", url: "https://livepantau.semarangkota.go.id/0a4f4630-7fb5-47ce-a74a-257813d33754/index.m3u8"},
        {city: "KOTA SEMARANG", name: "KALIBANTENG", url: "https://livepantau.semarangkota.go.id/d6de866a-9a52-4b26-9e94-8a3e8e086613/index.m3u8"},
        {city: "KOTA SEMARANG", name: "KALIBANTENG 2", url: "https://livepantau.semarangkota.go.id/9e0008a8-e529-414d-b740-87c7ae12add8/index.m3u8"},
        {city: "KOTA SEMARANG", name: "HANOMAN", url: "https://livepantau.semarangkota.go.id/83d0c96b-f8e1-4356-b009-d3512b52e3f2/index.m3u8"},
        {city: "KOTA SEMARANG", name: "KRAPYAK COUNTING", url: "https://livepantau.semarangkota.go.id/7473665d-f072-4450-bc73-2389493e2ecf/index.m3u8"},
        {city: "KOTA SEMARANG", name: "JRAKAH", url: "https://livepantau.semarangkota.go.id/9aaa8192-70bc-4a1c-8ee8-40075c97ea58/index.m3u8"},
        {city: "KOTA SEMARANG", name: "DPU KEL WONOSAR", url: "https://livepantau.semarangkota.go.id/4e991861-e45e-4517-b57a-67be3abdde26/index.m3u8"},

        // --- D.I. YOGYAKARTA ---
        {city: "D.I. YOGYAKARTA", name: "Malioboro - Simpang Pajeksan", url: "https://cctvjss.jogjakota.go.id/malioboro/Malioboro_22_Simpang_Pajeksan_Suryatmajan.stream/chunklist_w229731190.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Simpang Mandala Krida", url: "https://cctvjss.jogjakota.go.id/atcs/ATCS_Simpang_Mandala_Krida_PTZ.stream/chunklist_w59646757.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Malioboro - Depan Toko Subur", url: "https://cctvjss.jogjakota.go.id/malioboro/Malioboro_2_Depan_Toko_Subur.stream/chunklist_w1876728600.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "RTHP Bumen", url: "https://cctvjss.jogjakota.go.id/rthp/rthp_bumen.stream/chunklist_w1247100149.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Taman Waniwulang", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-kp/WanaWil.stream/chunklist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Pertigaan Terminal Wates", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-kp/Terminal.stream/chunklist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "RBA Alun-Alun Sisi Barat", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-kp/RBRA.stream/chunklist_w670553311.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Jl Nyoman Arah Gereja", url: "https://cctvjss.jogjakota.go.id/kotabaru/Jl-Nyoman-Oka.stream/chunklist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Demen Glagah", url: "https://mam.jogjaprov.go.id:1937/atcs/DemenGlagah.stream/chunklist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Simpang Mantrigawen PTZ", url: "https://cctvjss.jogjakota.go.id/atcs/ATCS_Mantrigawen_PTZ.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Simpang Karang Tunggal", url: "https://cctvjss.jogjakota.go.id/atcs/ATCS_Lampu_Merah_SopMerah2.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Condong Catur 2", url: "https://cctv.jogjaprov.go.id/cctv-proxy/atcs/Condongcatur2.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Besi (Jakal)", url: "https://cctv.jogjaprov.go.id/cctv-proxy/atcs/Besi.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Simpang Juadi", url: "https://cctv.jogjaprov.go.id/cctv-proxy/atcs-kota/Juadi.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Simpang Tegalgendu PTZ", url: "https://cctvjss.jogjakota.go.id/atcs/ATCS_Simpang_Tegalgendu_PTZ.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Simpang Tugu PTZ 2", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewSimpangTugu.stream/chunklist_w1182543842.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "View 0 KM PTZ", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewNolKilo.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "View Gn Merapi", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewGunungMerapi.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Pandansari Timur", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewPandansariTimur.stream/chunklist_w347333533.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "RTHP Segoro Tegalrejo 2", url: "https://cctvjss.jogjakota.go.id/rthp/rthp_segoro_amarto_tegalrejo_2.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Nyai Ageng View Utara", url: "https://mam.jogjaprov.go.id:1937/cctv-kp/Karangnongko.stream/chunklist_w197698033.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Simpang Glagahsari PTZ", url: "https://cctvjss.jogjakota.go.id/atcs/ATCS_Glagahsari_PTZ.stream/chunklist_w609517393.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Simpang Glagahsari", url: "https://cctvjss.jogjakota.go.id/atcs/ATCS_Glagahsari.stream/chunklist_w1045846334.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "RTHP Semaki 1", url: "https://cctvjss.jogjakota.go.id/rthp/rthp_semaki_1.stream/chunklist_w1401704022.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "RTHP Semaki 2", url: "https://cctvjss.jogjakota.go.id/rthp/rthp_semaki_2.stream/chunklist_w1348168339.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "RTHP Gunung Ketur 2", url: "https://cctvjss.jogjakota.go.id/rthp/rthp_gunungketur_2.stream/chunklist_w779845700.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "RHTP Gunung Ketur 1", url: "https://cctvjss.jogjakota.go.id/rthp/rthp_gunungketur_1.stream/chunklist_w11536123.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Brontokusuman Belakang 2", url: "https://cctvjss.jogjakota.go.id/rthp/rthp_brontokusuman_blkgKel_2.stream/chunklist_w1107148855.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Malioboro Terang Bulan", url: "https://cctvjss.jogjakota.go.id/malioboro/Malioboro_11_Terang_Bulan.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Malioboro Mall Selatan", url: "https://cctvjss.jogjakota.go.id/malioboro/Malioboro_7_Mall_Selatan.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Malioboro Mutiara Lama", url: "https://cctvjss.jogjakota.go.id/malioboro/Malioboro_8_Mutiara_Lama.stream/playlist.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Malioboro Utara Mall", url: "https://cctvjss.jogjakota.go.id/malioboro/Malioboro_25_Utara_Mall.stream/chunklist_w2134770204.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Simpang BPK", url: "https://cctvjss.jogjakota.go.id/atcs/ATCS_bpk.stream/chunklist_w367961555.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "RTHP Pakudaya Kuncen 2", url: "https://cctvjss.jogjakota.go.id/rthp/rthp_pakudaya_pakuncen_2.stream/chunklist_w331129965.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "RTHP Pakudaya Kuncen 1", url: "https://cctvjss.jogjakota.go.id/rthp/rthp_pakudaya_pakuncen_1.stream/chunklist_w934333603.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Gayam", url: "https://cctv.jogjaprov.go.id/cctv-proxy/atcs-kota/Gayam.stream/chunklist_w1124660989.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Sentul", url: "https://cctv.jogjaprov.go.id/cctv-proxy/atcs-kota/Sentul.stream/chunklist_w109375030.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Alun-Alun Utara", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-kp/AlunAlunUtara1.stream/chunklist_w292300010.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "SP3 Terminal Wates", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-kp/Terminal.stream/chunklist_w686073147.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Lapangan Basket", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-kp/LapanganBasket.stream/chunklist_w2123417370.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Depan Plaza Malioboro", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewDepanMall.stream/chunklist_w308264239.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Candi Prambanan", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewCandiPrambanan.stream/chunklist_w1877697172.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Candi Ratu Boko", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewCandiBoko.stream/chunklist_w103317346.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Tebing Breksi", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewBreksi.stream/chunklist_w870274498.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Museum Gn Merapi", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewGunungMerapi.stream/chunklist_w1260618601.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Malioboro Depan Pasar Bringharjo", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewDepanBeringharjo.stream/chunklist_w2067964493.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Candi Sambisari", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewCandiSambisari.stream/chunklist_w1703721545.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Embung Tambakboyo", url: "https://mam.jogjaprov.go.id/cctv-proxy/cctv-public/ViewTambakboyo.stream/chunklist_w782093023.m3u8"},
        {city: "D.I. YOGYAKARTA", name: "Alun-Alun Kidul", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-public/ViewAlunAlunKidul.stream/playlist.m3u8"},

        // --- KOTA PEKALONGAN ---
        {city: "KOTA PEKALONGAN", name: "Dr Cipto", url: "https://rtsp.pekalongankota.go.id/stream/065624f3-dd71-4b40-9106-9b59c81d51c6/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Grosir Setono", url: "https://rtsp.pekalongankota.go.id/stream/204f7718-e20c-4229-8ebc-3c5b7470febb/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Grogolan 360", url: "https://rtsp.pekalongankota.go.id/stream/442c3e59-0bcc-4651-a6b9-700b7b4f7218/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Gambaran 360", url: "https://rtsp.pekalongankota.go.id/stream/4ddb8484-2231-4450-9d91-30021a9d94e5/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Polsek Timur 360", url: "https://rtsp.pekalongankota.go.id/stream/4ddb8484-2231-4450-9d91-30021a9d94e5/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Alun Alun 360", url: "https://rtsp.pekalongankota.go.id/stream/4ddb8484-2231-4450-9d91-30021a9d94e5/channel/2/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Alun Alun Barat", url: "https://rtsp.pekalongankota.go.id/stream/4ddb8484-2231-4450-9d91-30021a9d94e5/channel/5/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "THR 360", url: "https://rtsp.pekalongankota.go.id/stream/4ddb8484-2231-4450-9d91-30021a9d94e5/channel/3/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "THR WIDE - SELATAN", url: "https://rtsp.pekalongankota.go.id/stream/4ddb8484-2231-4450-9d91-30021a9d94e5/channel/4/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Kec Pekalongan Selatan", url: "https://rtsp.pekalongankota.go.id/stream/ec93a215-5852-4ae5-944e-8a6ec558e5e9/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Perempatan Kominfo", url: "https://rtsp.pekalongankota.go.id/stream/c285d807-d19f-4dc0-83dc-b1932677fded/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Perempatan Kominfo 2", url: "https://rtsp.pekalongankota.go.id/stream/c1657b7d-1780-4f5c-be0a-96a779cd92b9/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Pusri Timur", url: "https://rtsp.pekalongankota.go.id/stream/b05ef4db-a7a7-4622-8b64-fd0085dabe4a/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Pusri Barat", url: "https://rtsp.pekalongankota.go.id/stream/b05ef4db-a7a7-4622-8b64-fd0085dabe4a/channel/2/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Stasiun 360", url: "https://rtsp.pekalongankota.go.id/stream/aae9126d-8149-40e7-9cf2-df7d1a2cbfab/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Stasiun TIMUR - ARAH KFC", url: "https://rtsp.pekalongankota.go.id/stream/aae9126d-8149-40e7-9cf2-df7d1a2cbfab/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Ponolawen Timur", url: "https://rtsp.pekalongankota.go.id/stream/a23d134a-18c6-4629-8df4-fe9b9777bac5/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Ponolawen Selatan", url: "https://rtsp.pekalongankota.go.id/stream/a23d134a-18c6-4629-8df4-fe9b9777bac5/channel/2/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Pendopo Mataram", url: "https://rtsp.pekalongankota.go.id/stream/3cf3168a-784e-4f9d-9d1e-15809887e87f/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Tirto Timur", url: "https://rtsp.pekalongankota.go.id/stream/723919ec-c0ae-43a9-90f8-a513d5823b27/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Tirto Selatan", url: "https://rtsp.pekalongankota.go.id/stream/723919ec-c0ae-43a9-90f8-a513d5823b27/channel/2/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Jl Kurinci (CCTV BPBD)", url: "https://rtsp.pekalongankota.go.id/stream/204f7718-e20c-4229-8ebc-3c5b7470febb/channel/3/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Dharma Bakti Timur", url: "https://rtsp.pekalongankota.go.id/stream/504ddc51-6bb8-4355-a6b3-e1fc4b8e3e8d/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Dharma Bakti Barat", url: "https://rtsp.pekalongankota.go.id/stream/504ddc51-6bb8-4355-a6b3-e1fc4b8e3e8d/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Dharma Bakti Selatan", url: "https://rtsp.pekalongankota.go.id/stream/504ddc51-6bb8-4355-a6b3-e1fc4b8e3e8d/channel/2/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Pertigaan Podosugih Utara", url: "https://rtsp.pekalongankota.go.id/stream/69518725-7264-4b56-a685-7dbddf7cd039/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Muhammadiyah Barat", url: "https://rtsp.pekalongankota.go.id/stream/a561e384-c065-41f6-84fa-32ec581f133f/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Matahari 360", url: "https://rtsp.pekalongankota.go.id/stream/065624f3-dd71-4b40-9106-9b59c81d51c6/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Terminal Tengah", url: "https://rtsp.pekalongankota.go.id/stream/0b2a0c4c-fb26-4318-bbeb-86d6bcdf2fa3/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Terminal Timur", url: "https://rtsp.pekalongankota.go.id/stream/0b2a0c4c-fb26-4318-bbeb-86d6bcdf2fa3/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Pertigaan Podo Sugih Timur", url: "https://rtsp.pekalongankota.go.id/stream/20f63cfc-3f39-440f-b604-4d356da5315d/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "POSIS TIMUR", url: "https://rtsp.pekalongankota.go.id/stream/390c6bc2-f6eb-46f6-be5a-a7bd6651d110/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Grogolan Timur", url: "https://rtsp.pekalongankota.go.id/stream/442c3e59-0bcc-4651-a6b9-700b7b4f7218/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Mataram Pojok Utara", url: "https://rtsp.pekalongankota.go.id/stream/4e2c3d4b-7cb1-40fa-9e56-3cfc9693412f/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Pertigaan Kel Klego", url: "https://rtsp.pekalongankota.go.id/stream/98520500-cf21-47b5-ae30-eb767f681aba/channel/0/hlsll/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Pertigaan Kel Klego 2", url: "https://rtsp.pekalongankota.go.id/stream/98520500-cf21-47b5-ae30-eb767f681aba/channel/1/hlsll/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "SOROGENEN", url: "https://rtsp.pekalongankota.go.id/stream/065624f3-dd71-4b40-9106-9b59c81d51c6/channel/2/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "PONOLAWEN 360", url: "https://rtsp.pekalongankota.go.id/stream/a23d134a-18c6-4629-8df4-fe9b9777bac5/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Kec Pekalongan Utara", url: "https://rtsp.pekalongankota.go.id/stream/097799c5-4130-48b8-8c94-869b1960d0c1/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "KALI BREMI (CCTV BPBD)", url: "https://rtsp.pekalongankota.go.id/stream/a051a871-44ce-4a0e-9c30-6fc3455904b1/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Alun Alun Selatan", url: "https://rtsp.pekalongankota.go.id/stream/18aa9cf3-ae88-4d54-9831-199807df3d45/channel/0/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Pertigaan Alun Alun Selatan", url: "https://rtsp.pekalongankota.go.id/stream/18aa9cf3-ae88-4d54-9831-199807df3d45/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Ahmad Yani 360", url: "https://rtsp.pekalongankota.go.id/stream/204f7718-e20c-4229-8ebc-3c5b7470febb/channel/1/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Ahmad Yani Timur", url: "https://rtsp.pekalongankota.go.id/stream/204f7718-e20c-4229-8ebc-3c5b7470febb/channel/2/hls/live/index.m3u8"},
        {city: "KOTA PEKALONGAN", name: "Grogolan Barat", url: "https://rtsp.pekalongankota.go.id/stream/442c3e59-0bcc-4651-a6b9-700b7b4f7218/channel/3/hls/live/index.m3u8"},

        // --- GUNUNG KIDUL ---
        {city: "GUNUNG KIDUL", name: "Kelurahan Jetis", url: "https://stream.gunungkidulkab.go.id:8888/6d5acbc9-33cf-4d3a-8671-a26933f1868d/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kelurahan Jetis PTZ", url: "https://stream.gunungkidulkab.go.id:8888/61947637-427d-48ad-a59e-916edc063354/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Alun Alun Wonosari PTZ", url: "https://stream.gunungkidulkab.go.id:8888/cd59b3ca-9f14-4660-96a6-2e65442c52a2/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Green Village Gedangsari", url: "https://stream.gunungkidulkab.go.id:8888/bc0a365b-3b87-4fca-8bb0-66af17678e4d/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pantai Sepanjang", url: "https://stream.gunungkidulkab.go.id:8888/c4c52e15-f967-4ffc-a785-8b5e4297e0f7/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "SMP 2 Patuk Barat", url: "https://stream.gunungkidulkab.go.id:8888/32588258-06cb-4628-987e-1f0748e6604e/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "SMP 2 Patuk Timur", url: "https://stream.gunungkidulkab.go.id:8888/e903344a-4303-4dbb-954c-1ba2eac82c10/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Simpang 4 Gading", url: "https://stream.gunungkidulkab.go.id:8888/e08a568b-111c-43ce-88bc-503f4a3cc348/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Taman Kota", url: "https://stream.gunungkidulkab.go.id:8888/93b13543-ed56-48dc-a6b2-b73c3fc8f29a/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pantai Baron", url: "https://stream.gunungkidulkab.go.id:8888/630843dd-4488-4360-8f86-b23f3e67980d/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pantai Kukup", url: "https://stream.gunungkidulkab.go.id:8888/53fa897a-dc59-435b-841b-ce544d559a20/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kelurahan Getas", url: "https://stream.gunungkidulkab.go.id:8888/097ef287-a064-4730-8b65-0fdfad75f327/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pertigaan Bunder", url: "https://stream.gunungkidulkab.go.id:8888/cdb69448-349b-460e-ac6c-545199e93599/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pertigaan Pemadang", url: "https://stream.gunungkidulkab.go.id:8888/72f5464f-8741-4449-9727-c75db9a1169f/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Puskesmas Gedangsari 2", url: "https://stream.gunungkidulkab.go.id:8888/7796317a-7669-4f52-b560-e1706a1825c9/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "JJLS Planjan", url: "https://stream.gunungkidulkab.go.id:8888/5858ca16-f730-49d1-a494-9d20a82b9b55/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "SMP 1 Playen", url: "https://stream.gunungkidulkab.go.id:8888/c43d6c28-d03d-4aab-a589-7410b655908d/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "SD Karangrejek", url: "https://stream.gunungkidulkab.go.id:8888/97561df3-c774-495a-b4d6-e5654108ac43/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Perempatan Patuk", url: "https://stream.gunungkidulkab.go.id:8888/d237c46b-f15b-490c-869c-b5375df3a020/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "SMP3 Wonosari", url: "https://stream.gunungkidulkab.go.id:8888/f156c1d9-9381-45f5-a20f-cd323fb3a639/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Ngringung Mulo", url: "https://stream.gunungkidulkab.go.id:8888/bbc05db8-09ae-44d1-a049-3d22bd18962b/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pertigaan Pasar Playen", url: "https://stream.gunungkidulkab.go.id:8888/3cdd4d3d-123f-4fdd-9600-5afce882d8e5/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Alun Alun Wonosari", url: "https://stream.gunungkidulkab.go.id:8888/c066fe94-69d3-487b-990a-f0bdb24fa9e9/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Bunderan Siyono", url: "https://stream.gunungkidulkab.go.id:8888/447f180a-3aa6-41af-a905-4f5567b84f1b/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pantai Drini", url: "https://stream.gunungkidulkab.go.id:8888/10aee277-d00f-45ee-b72d-c3c4962bc269/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kelurahan Nglanggeran 1", url: "https://stream.gunungkidulkab.go.id:8888/dab5e1b1-dc22-4162-8523-ada6a19585d9/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kelurahan Nglanggeran 2", url: "https://stream.gunungkidulkab.go.id:8888/a6091cbe-fbfc-401b-994b-258ba03b0387/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Puskesmas Ngawen 2", url: "https://stream.gunungkidulkab.go.id:8888/8193c0b3-0d34-43a1-9185-a534f6ffa303/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pertigaan SD Nanas", url: "https://stream.gunungkidulkab.go.id:8888/68e924c4-c94a-42e7-93ca-12b685c6513b/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Bunderan PLN", url: "https://stream.gunungkidulkab.go.id:8888/ef7bc11d-8e05-4414-8e25-edeb78929cf0/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "SMP 2 Paliyan", url: "https://stream.gunungkidulkab.go.id:8888/a7891cb1-d941-4974-94cd-de33ac5d84b0/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kelurahan Rejosari", url: "https://stream.gunungkidulkab.go.id:8888/a8b41e1f-51ae-4f3c-b61f-3d3485714fee/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kelurahan Sambirejo", url: "https://stream.gunungkidulkab.go.id:8888/a4bed595-2ed8-46f5-a802-fc450bdf67e9/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "BPP Playen", url: "https://stream.gunungkidulkab.go.id:8888/40c44e72-0ef8-42b5-9410-8c88ad2d062d/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "SD Trowo 1", url: "https://stream.gunungkidulkab.go.id:8888/076df88c-ce65-47f4-8d4e-4872c430eee8/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Terminal Senin", url: "https://stream.gunungkidulkab.go.id:8888/f4e65d43-ff9a-4603-b035-b2bb778fc9d1/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "SD Pucung", url: "https://stream.gunungkidulkab.go.id:8888/407a2a57-0202-4303-8314-114e635549c2/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "SMPN 1 Tanjungsari", url: "https://stream.gunungkidulkab.go.id:8888/d15446f5-d59f-47f0-b6d6-5828c28dfc6b/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Puskesmas Patuk 2", url: "https://stream.gunungkidulkab.go.id:8888/565f31f5-ca89-4db2-937b-dd33f9fb5102/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "RTH 2", url: "https://stream.gunungkidulkab.go.id:8888/7ecb3678-fc9a-4d9a-9b71-d1716ab29c44/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "TPR Pantai Baron", url: "https://stream.gunungkidulkab.go.id:8888/f6314dd1-a8ea-40a9-8a97-e0f2f8dc4bdd/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pasar Argosari", url: "https://stream.gunungkidulkab.go.id:8888/5b13c6d9-1295-4e5d-927a-ef546e433339/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Bunderan Siyono Timur", url: "https://stream.gunungkidulkab.go.id:8888/365d3972-8e24-4b8e-a9bd-2db5cbcbfee8/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kapenawon Saptosari", url: "https://stream.gunungkidulkab.go.id:8888/3fb627dc-e19a-4bc7-9e79-687487c840db/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kapenawon Saptosari 2", url: "https://stream.gunungkidulkab.go.id:8888/41eefc1f-8388-47b2-9dc9-59d5e65b10d7/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "S3 Petoyan 1", url: "https://stream.gunungkidulkab.go.id:8888/d7c5ae4e-2c50-4fc3-a57d-84950313fe6f/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "S3 Ngawen Timur", url: "https://stream.gunungkidulkab.go.id:8888/336476f5-2964-4c45-82d2-061b7fe984aa/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kapanewon Semin Utara", url: "https://stream.gunungkidulkab.go.id:8888/25a25318-0831-41ca-a84e-cb725af7a912/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kapanewon Semin Selatan", url: "https://stream.gunungkidulkab.go.id:8888/b788631e-790a-4034-a021-d70223e93e56/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "S4 Karangmojo Barat", url: "https://stream.gunungkidulkab.go.id:8888/1a72b20b-83a2-44e3-b2cb-34754ec25d7d/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "S4 Karangmojo Timur", url: "https://stream.gunungkidulkab.go.id:8888/80040ab9-0b70-4d40-991d-33e3850d4115/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "BPP Semanu Barat", url: "https://stream.gunungkidulkab.go.id:8888/27c0b2c4-a1bf-4ed9-95ca-9d88f046c754/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "S4 Ngalang Timur", url: "https://stream.gunungkidulkab.go.id:8888/6d0d6159-4ddc-4ef6-a430-ee4ac9731e83/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "S4 Ngalang Barat", url: "https://stream.gunungkidulkab.go.id:8888/ae3ead60-bed5-4f71-8613-bd4161d51aaf/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "S4 Muggi Barat", url: "https://stream.gunungkidulkab.go.id:8888/95e43424-6406-45d5-9ea8-6c137e40e9fa/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "S3 Lalin Pasar Playen", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-kominfogk/PertigaanPasarPlayen.stream/playlist.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pantai Wediombo Jalan", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-kominfogk/PantaiWediomboJalan.stream/playlist.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kodim Gn Kidul", url: "https://cctv.jogjaprov.go.id/cctv-proxy/cctv-kominfogk/LapanganKasatrian.stream/playlist.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kapenawon Rangkop Timur", url: "https://stream.gunungkidulkab.go.id:8888/5bc413f9-0eae-4334-9b7b-e13bf155c8dd/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Kepenawon Rangkop Barat", url: "https://stream.gunungkidulkab.go.id:8888/b344fc06-e8e9-40b2-ad80-d996918ec595/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pasar Wotgalih", url: "https://stream.gunungkidulkab.go.id:8888/d7bca391-48f3-48d5-9744-ddf548c21ca4/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pantai Sepanjang PTZ", url: "https://stream.gunungkidulkab.go.id:8888/194accd6-6fc8-4938-81c1-78206b1a0200/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pantai Sepanjang Fix", url: "https://stream.gunungkidulkab.go.id:8888/f443272b-2eee-4df1-a2bc-14474a336e29/main_stream.m3u8"},
        {city: "GUNUNG KIDUL", name: "Parkiran Embung Nglanggeran", url: "https://stream.gunungkidulkab.go.id:8888/0386d0d8-c1a6-429a-9996-def5e2079644/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Embung Nglanggeran PTZ", url: "https://stream.gunungkidulkab.go.id:8888/1bea2c47-343d-408e-adf5-ad5eaf6faeec/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Simpang 4 RSUD PTZ", url: "https://stream.gunungkidulkab.go.id:8888/00817fc1-25e9-469f-a5c5-c371bdd55f07/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Bunderan Siyono PTZ", url: "https://stream.gunungkidulkab.go.id:8888/c02bf2b6-834c-4c9b-9be6-f2980d859bb8/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pantai Kukup PTZ", url: "https://stream.gunungkidulkab.go.id:8888/dfdcfa82-c168-4265-abc8-f786bb7f0313/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Pertigaan Pasar Playen PTZ", url: "https://stream.gunungkidulkab.go.id:8888/14d99ef0-eb77-4450-9fc9-eb7545a9ac16/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Simpang 4 Pancuran PTZ", url: "https://stream.gunungkidulkab.go.id:8888/d0e1549c-170b-499e-8dee-4ec2fef57f4d/index.m3u8"},
        {city: "GUNUNG KIDUL", name: "Bunderan PLN PTZ", url: "https://stream.gunungkidulkab.go.id:8888/de774241-aaec-4937-a43a-ab59b7525dd0/index.m3u8"},

        // --- KAB. KLATEN ---
        {city: "KAB. KLATEN", name: "Simpang 3 Ngingas PTZ", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang3ngingas_ptz.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Bareng PTZ", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4bareng_ptz.m3u8"},
        {city: "KAB. KLATEN", name: "Alun Alun PTZ", url: "https://stream.klaten.go.id:8080/cctv/hls/alunalun_ptz.m3u8"},
        {city: "KAB. KLATEN", name: "Alun Alun Panoramic Wide", url: "https://stream.klaten.go.id:8080/cctv/hls/alunalun_panoramic.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang Tegalyoso PTZ", url: "https://stream.klaten.go.id:8080/cctv/hls/simpangtegalyoso_ptz.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang Tegalyoso Panoramic 1 Wide", url: "https://stream.klaten.go.id:8080/cctv/hls/simpangtegalyoso_panoramic1.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang Tegalyoso Panoramic 2 Wide", url: "https://stream.klaten.go.id:8080/cctv/hls/simpangtegalyoso_panoramic2.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Pemda PTZ", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4pemda_ptz.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 5 Matahari PTZ", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang5matahari_ptz.m3u8"},
        {city: "KAB. KLATEN", name: "Gor PTZ", url: "https://stream.klaten.go.id:8080/cctv/hls/gor_ptz.m3u8"},
        {city: "KAB. KLATEN", name: "Gor Panoramic Wide", url: "https://stream.klaten.go.id:8080/cctv/hls/gor_panoramic.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang Al Aqsa PTZ", url: "https://stream.klaten.go.id:8080/cctv/hls/simpangalaqsa_ptz.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang Al Aqsa Arah Solo", url: "https://stream.klaten.go.id:8080/cctv/hls/simpangalaqsa_arahsolo.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang Al Aqsa Arah Kota", url: "https://stream.klaten.go.id:8080/cctv/hls/simpangalaqsa_arahkota.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 3 Ngingas Arah Jogja", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang3ngingas_arahyogyakarta.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 3 Ngingas Arah Solo", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang3ngingas_arahsolo.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 3 Ngingas Arah Ronggowarsito", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang3ngingas_arahronggowarsito.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Bareng Arah Solo", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4bareng_arahsolo.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Bareng Arah Rajawali", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4bareng_arahrajawali.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Bareng Arah Yogyakarta", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4bareng_arahyogyakarta.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Bareng Arah Sungkur", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4bareng_arahsungkur.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Pandanrejo Arah Solo", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4pandanrejo_arahsolo.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Pandanrejo Arah Sungkur", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4pandanrejo_arahsungkur.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Pandanrejo Arah Yogyakarta", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4pandanrejo_arahyogyakarta.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Pandanrejo Arah Matahari", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4pandanrejo_arahmatahari.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 5 Matahari Arah Yogyakarta", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang5matahari_arahyogyakarta.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 5 Matahari Arah Solo", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang5matahari_arahsolo.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 5 Matahari Arah Pasar", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang5matahari_arahpasar.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 5 Matahari Arah Pandanrejo", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang5matahari_arahpandanrejo.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Pemda Arah Yogyakarta", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4pemda_arahyogyakarta.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Pemda Arah Melati", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4pemda_arahmelati.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Pemda Arah Pemda", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4pemda_arahpemda.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Pemda Arah Solo", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4pemda_arahsolo.m3u8"},
        {city: "KAB. KLATEN", name: "Simpang 4 Pandanrejo PTZ", url: "https://stream.klaten.go.id:8080/cctv/hls/simpang4pandanrejo_ptz.m3u8"},
        {city: "KAB. KLATEN", name: "Posko Merapi Balerante 1", url: "https://stream.klaten.go.id:8080/cctv/hls/posko_balerante1.m3u8"},
        {city: "KAB. KLATEN", name: "Posko Merapi Tegalmulyo 2", url: "https://stream.klaten.go.id:8080/cctv/hls/posko_tegalmulyo2.m3u8"},
        {city: "KAB. KLATEN", name: "BPBD Gunung Merapi", url: "https://stream.klaten.go.id:8080/cctv/hls/cctv_merapi_bpbd.m3u8"},

        // --- KAB. PEMALANG ---
        {city: "KAB. PEMALANG", name: "Alun-Alun", url: "https://stream.pemalangkab.go.id/alunalun/alunalun1.m3u8"},
        {city: "KAB. PEMALANG", name: "Masjid Agung", url: "https://stream.pemalangkab.go.id/masjidagung/masjid1.m3u8"},
        {city: "KAB. PEMALANG", name: "Comal", url: "https://stream.pemalangkab.go.id/2025/comal/comal.m3u8"},
        {city: "KAB. PEMALANG", name: "Watukumpul", url: "https://stream.pemalangkab.go.id/2025/watukumpul/watukumpul.m3u8"},
        {city: "KAB. PEMALANG", name: "Warung Pring", url: "https://stream.pemalangkab.go.id/2025/warungpring/warungpring.m3u8"},
        {city: "KAB. PEMALANG", name: "Randudongkal", url: "https://stream.pemalangkab.go.id/2025/randudongkal/randudongkal.m3u8"},
        {city: "KAB. PEMALANG", name: "Pulosari", url: "https://stream.pemalangkab.go.id/2025/pulosari/pulosari.m3u8"},
        {city: "KAB. PEMALANG", name: "Pagaran Barat", url: "https://stream.pemalangkab.go.id/2025/pagaranbarat/pagaranbarat.m3u8"},
        {city: "KAB. PEMALANG", name: "Pagaran Timur", url: "https://stream.pemalangkab.go.id/2025/pagarantimur/pagarantimur.m3u8"},
        {city: "KAB. PEMALANG", name: "Pagaran Selatan", url: "https://stream.pemalangkab.go.id/2025/pagaranselatan/pagaranselatan.m3u8"},
        {city: "KAB. PEMALANG", name: "Sirandu Pos", url: "https://stream.pemalangkab.go.id/sirandu_pos/sirandupos1.m3u8"},
        {city: "KAB. PEMALANG", name: "Sirandu Barat", url: "https://stream.pemalangkab.go.id/sirandu_barat/sirandu_barat1.m3u8"},
        {city: "KAB. PEMALANG", name: "Sirandu Selatan", url: "https://stream.pemalangkab.go.id/sirandu_selatan/sirandu_selatan1.m3u8"},
        {city: "KAB. PEMALANG", name: "Sirandu Timur", url: "https://stream.pemalangkab.go.id/sirandu_timur/sirandu_timur1.m3u8"},
        {city: "KAB. PEMALANG", name: "Mega Barat", url: "https://stream.pemalangkab.go.id/mega_barat/mega_barat1.m3u8"},
        {city: "KAB. PEMALANG", name: "Mega Selatan", url: "https://stream.pemalangkab.go.id/mega_selatan/mega_selatan1.m3u8"},
        {city: "KAB. PEMALANG", name: "BCA Arah Utara", url: "https://stream.pemalangkab.go.id/bca_utara/bca_utara1.m3u8"},
        {city: "KAB. PEMALANG", name: "BCA Arah Barat", url: "https://stream.pemalangkab.go.id/bca_barat/bca_barat1.m3u8"},
        {city: "KAB. PEMALANG", name: "Depan Kantor Pendopo", url: "https://stream.pemalangkab.go.id/kesbangpol/kesbangpol1.m3u8"},
        {city: "KAB. PEMALANG", name: "Area City Walk", url: "https://stream.pemalangkab.go.id/dishub/city/city.m3u8"},
        {city: "KAB. PEMALANG", name: "Beji Barat", url: "https://stream.pemalangkab.go.id/dishub/bejibarat/bejibarat.m3u8"},
        {city: "KAB. PEMALANG", name: "Beji Selatan", url: "https://stream.pemalangkab.go.id/dishub/bejiselatan/bejiselatan.m3u8"},
        {city: "KAB. PEMALANG", name: "Beji Timur", url: "https://stream.pemalangkab.go.id/dishub/bejitimur/bejitimur.m3u8"},
        {city: "KAB. PEMALANG", name: "Bojong Barat - TRIAL LINK DISHUB", url: "http://103.42.243.10:8889/cam02/"},
        {city: "KAB. PEMALANG", name: "Bojong Utara", url: "https://stream.pemalangkab.go.id/dishub/bojongutara/bojongutara.m3u8"},
        {city: "KAB. PEMALANG", name: "Petarukan Barat", url: "https://stream.pemalangkab.go.id/dishub/petarukanbarat/petarukanbarat.m3u8"},
        {city: "KAB. PEMALANG", name: "Petarukan Timur", url: "https://stream.pemalangkab.go.id/dishub/petarukantimur/petarukantimur.m3u8"},
        {city: "KAB. PEMALANG", name: "Tiptop Selatan", url: "https://stream.pemalangkab.go.id/dishub/tiptopsel/tiptopsel.m3u8"},
        {city: "KAB. PEMALANG", name: "Depan Gerbang Pendopo", url: "https://stream.pemalangkab.go.id/2026/depanpendopo1/depanpendopo1.m3u8"},
        {city: "KAB. PEMALANG", name: "Rumah Dinas Wabup", url: "https://stream.pemalangkab.go.id/2026/depanpendopo2/depanpendopo2.m3u8"}
    ];

    // ==========================================
    // 2. RESOLUTION MONITORING LOGIC
    // ==========================================
    function updateResolutionDisplay() {
        const video = document.getElementById('video-element');
        const display = document.getElementById('resolution-display');
        const bars = document.querySelectorAll('.bar');
        
        if (video.videoWidth > 0 && video.videoHeight > 0) {
            const w = video.videoWidth;
            const h = video.videoHeight;
            let label = "SD";
            let quality = 1;

            if (w >= 1920 || h >= 1080) { label = "FULL HD"; quality = 4; }
            else if (w >= 1280 || h >= 720) { label = "HD"; quality = 3; }
            else if (w >= 640 || h >= 480) { label = "SD"; quality = 2; }
            else { label = "LOW"; quality = 1; }

            display.innerText = `${w}x${h} (${label})`;

            bars.forEach((bar, index) => {
                bar.classList.remove('active');
                if (index < quality) {
                    bar.classList.add('active');
                    bar.style.backgroundColor = (quality >= 3) ? '#22c55e' : '#eab308';
                } else {
                    bar.style.backgroundColor = '#94a3b8';
                }
            });
        } else {
            display.innerText = "DETECTING...";
            bars.forEach(bar => bar.classList.remove('active'));
        }
    }

    // ==========================================
    // 3. PLAYER LOGIC
    // ==========================================
    let hls;
    let activeStreamIndex = 0;
    const video = document.getElementById('video-element');
    const statusCity = document.getElementById('active-cam-city');
    const statusName = document.getElementById('active-cam-name');
    const loadingOverlay = document.getElementById('overlay-loading');
    const errorOverlay = document.getElementById('overlay-error');
    const playOverlay = document.getElementById('overlay-play');
    const httpWarning = document.getElementById('http-warning');

    video.addEventListener('loadedmetadata', updateResolutionDisplay);
    video.addEventListener('resize', updateResolutionDisplay);

    function initPlayer() {
        renderAccordionList();
        if (streamSource.length > 0) loadStream(0);
        setInterval(updateClock, 1000);
        updateClock();
    }

    function loadStream(index) {
        if (index < 0 || index >= streamSource.length) return;
        activeStreamIndex = index;
        const stream = streamSource[index];

        statusCity.innerText = stream.city;
        statusName.innerText = stream.name;
        
        loadingOverlay.classList.remove('hidden');
        errorOverlay.classList.add('hidden');
        playOverlay.classList.add('hidden');
        httpWarning.classList.add('hidden'); // Reset warning
        document.getElementById('resolution-display').innerText = "DETECTING...";

        // Cek apakah link HTTP, jika ya tampilkan peringatan
        if (stream.url.startsWith("http://")) {
            httpWarning.classList.remove('hidden');
        }

        document.querySelectorAll('.cam-item').forEach(el => el.classList.remove('active'));
        const activeItem = document.getElementById(`cam-${index}`);
        if(activeItem) {
            activeItem.classList.add('active');
            activeItem.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        if (Hls.isSupported()) {
            if (hls) hls.destroy();
            hls = new Hls({ 
                enableWorker: true, 
                lowLatencyMode: true, 
                backBufferLength: 30,
                xhrSetup: function(xhr) { xhr.withCredentials = false; }
            });
            hls.loadSource(stream.url);
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, () => {
                video.play().catch(() => {
                    loadingOverlay.classList.add('hidden');
                    playOverlay.classList.remove('hidden');
                });
            });
            hls.on(Hls.Events.ERROR, (event, data) => {
                if (data.fatal) {
                    switch (data.type) {
                        case Hls.ErrorTypes.NETWORK_ERROR: hls.startLoad(); break;
                        case Hls.ErrorTypes.MEDIA_ERROR: hls.recoverMediaError(); break;
                        default: hls.destroy(); showErrorState(); break;
                    }
                }
            });
        } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            video.src = stream.url;
            video.addEventListener('loadedmetadata', () => { video.play().catch(() => playOverlay.classList.remove('hidden')); });
            video.addEventListener('error', showErrorState);
        }
    }

    video.addEventListener('playing', () => {
        loadingOverlay.classList.add('hidden');
        playOverlay.classList.add('hidden');
        updateResolutionDisplay();
    });

    video.addEventListener('waiting', () => { if (!video.paused) loadingOverlay.classList.remove('hidden'); });

    function showErrorState() {
        loadingOverlay.classList.add('hidden');
        errorOverlay.classList.remove('hidden');
        document.getElementById('resolution-display').innerText = "OFFLINE";
    }

    function retryStream() { loadStream(activeStreamIndex); }
    function startPlayback() { video.play(); playOverlay.classList.add('hidden'); }

    // ==========================================
    // 4. UI RENDERER
    // ==========================================
    function renderAccordionList() {
        const container = document.getElementById('camera-list-container');
        container.innerHTML = '';
        const groups = {};
        streamSource.forEach((s, i) => {
            if (!groups[s.city]) groups[s.city] = [];
            groups[s.city].push({ ...s, originalIndex: i });
        });

        // Urutkan agar KEDIRI tampil paling atas
        const orderedGroups = Object.keys(groups).sort((a,b) => {
            if(a.includes("KEDIRI")) return -1;
            if(b.includes("KEDIRI")) return 1;
            return 0;
        });

        for (const groupName of orderedGroups) {
            const items = groups[groupName];
            const groupDiv = document.createElement('div');
            groupDiv.className = 'accordion-group';
            const header = document.createElement('div');
            header.className = 'group-header';
            header.onclick = () => toggleGroup(header);
            header.innerHTML = `<div class="group-title"><i class="fa-solid fa-map-location-dot text-blue-700"></i> ${groupName}</div><i class="fa-solid fa-chevron-down group-icon"></i>`;
            const body = document.createElement('div');
            body.className = 'group-body';
            // Buka otomatis untuk KOTA KEDIRI
            if (groupName === "KOTA KEDIRI") body.classList.add('open');
            items.forEach(item => {
                const row = document.createElement('div');
                row.className = 'cam-item';
                row.id = `cam-${item.originalIndex}`;
                row.onclick = () => loadStream(item.originalIndex);
                row.innerHTML = `<i class="fa-solid fa-circle-play text-slate-300 text-lg play-icon transition-transform"></i><span class="cam-name flex-1">${item.name}</span>`;
                body.appendChild(row);
            });
            groupDiv.appendChild(header); groupDiv.appendChild(body);
            container.appendChild(groupDiv);
        }
        document.getElementById('total-cams').innerText = `${streamSource.length} CAM`;
    }

    function toggleGroup(header) {
        header.classList.toggle('active');
        header.nextElementSibling.classList.toggle('open');
    }

    function handleSearch() {
        const term = document.getElementById('search-input').value.toLowerCase();
        const groups = document.querySelectorAll('.accordion-group');
        groups.forEach(group => {
            const items = group.querySelectorAll('.cam-item');
            let hasMatch = false;
            items.forEach(item => {
                if (item.innerText.toLowerCase().includes(term)) { item.style.display = 'flex'; hasMatch = true; } 
                else { item.style.display = 'none'; }
            });
            const body = group.querySelector('.group-body');
            const header = group.querySelector('.group-header');
            if (term.length > 0) {
                if (hasMatch) { group.style.display = 'block'; body.classList.add('open'); header.classList.add('active'); } 
                else { group.style.display = 'none'; }
            } else {
                group.style.display = 'block'; body.classList.remove('open'); header.classList.remove('active');
                items.forEach(i => i.style.display = 'flex');
            }
        });
    }

    function updateClock() {
        const now = new Date();
        document.getElementById('digital-clock').innerText = now.toLocaleTimeString('id-ID', {hour12: false});
        document.getElementById('date-display').innerText = now.toLocaleDateString('id-ID', {weekday:'long', day:'numeric', month:'long', year:'numeric'});
    }

    function toggleFullscreen() {
        const wrapper = document.querySelector('.video-wrapper');
        const video = document.getElementById('video-element');
        if (!document.fullscreenElement && !document.webkitFullscreenElement) {
            if (wrapper.requestFullscreen) wrapper.requestFullscreen();
            else if (video.webkitEnterFullscreen) video.webkitEnterFullscreen();
            else if (wrapper.webkitRequestFullscreen) wrapper.webkitRequestFullscreen();
        } else {
            if (document.exitFullscreen) document.exitFullscreen();
            else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
        }
    }

    document.addEventListener('DOMContentLoaded', initPlayer);
</script>
{% endblock %}
