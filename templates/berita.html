{% extends "base.html" %}

{% block title %}Berita Terkini - KTVDI{% endblock %}

{% block content %}
<div class="container fade-in-up" style="margin-top: 2rem; max-width: 1100px;">

    <div style="text-align: center; margin-bottom: 3rem;">
        <h1 style="color: var(--primary); font-weight: 800; font-size: 2.2rem;">Berita TV Digital</h1>
        <p class="text-muted">Update terbaru seputar penyiaran, frekuensi, dan teknologi digital.</p>
        <div style="width: 60px; height: 4px; background: var(--primary); margin: 15px auto; border-radius: 2px;"></div>
    </div>

    <div class="news-grid">
        {% for article in articles %}
            <div class="news-card">
                <div class="news-img-placeholder">
                    <i class="far fa-newspaper"></i>
                </div>
                
                <div class="news-content">
                    {% if article.time_since_published %}
                        <div class="news-meta">
                            <i class="far fa-clock"></i> {{ article.time_since_published }}
                        </div>
                    {% endif %}

                    <h3 class="news-title">
                        <a href="{{ article.link }}" target="_blank">{{ article.title }}</a>
                    </h3>

                    <a href="{{ article.link }}" class="btn-news" target="_blank">
                        Baca Selengkapnya <i class="fas fa-external-link-alt" style="font-size: 0.8em;"></i>
                    </a>
                </div>
            </div>
        {% endfor %}
    </div>

    <div class="pagination-wrapper">
        {% if page > 1 %}
            <a href="{{ url_for('berita', page=page-1) }}" class="page-btn prev">
                <i class="fas fa-chevron-left"></i> Sebelumnya
            </a>
        {% else %}
            <span class="page-btn disabled"><i class="fas fa-chevron-left"></i> Sebelumnya</span>
        {% endif %}

        <span class="page-info">Halaman <strong>{{ page }}</strong> dari {{ total_pages }}</span>

        {% if page < total_pages %}
            <a href="{{ url_for('berita', page=page+1) }}" class="page-btn next">
                Berikutnya <i class="fas fa-chevron-right"></i>
            </a>
        {% else %}
            <span class="page-btn disabled">Berikutnya <i class="fas fa-chevron-right"></i></span>
        {% endif %}
    </div>

</div>

<style>
    /* Grid Layout */
    .news-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 30px;
        margin-bottom: 40px;
    }

    /* Kartu Berita */
    .news-card {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        transition: transform 0.3s, box-shadow 0.3s;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        height: 100%;
    }

    .news-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(30, 144, 255, 0.15);
        border-color: var(--primary);
    }

    /* Placeholder Gambar (Gradient) */
    .news-img-placeholder {
        height: 160px;
        background: linear-gradient(135deg, var(--primary), #4facfe);
        display: flex;
        align-items: center;
        justify-content: center;
        color: rgba(255,255,255,0.3);
        font-size: 4rem;
    }

    /* Konten Kartu */
    .news-content {
        padding: 20px;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }

    .news-meta {
        font-size: 0.8rem;
        color: #888;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 5px;
    }

    .news-title {
        font-size: 1.1rem;
        font-weight: 700;
        line-height: 1.5;
        margin-bottom: 20px;
        color: #333;
    }

    .news-title a {
        text-decoration: none;
        color: inherit;
        transition: 0.3s;
    }

    .news-title a:hover {
        color: var(--primary);
    }

    .btn-news {
        margin-top: auto; /* Dorong tombol ke bawah */
        color: var(--primary);
        font-weight: 600;
        font-size: 0.9rem;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 5px;
    }
    
    .btn-news:hover {
        text-decoration: underline;
    }

    /* Paginasi */
    .pagination-wrapper {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 20px;
        margin-top: 40px;
        margin-bottom: 60px;
    }

    .page-btn {
        padding: 10px 20px;
        border-radius: 50px;
        background: #fff;
        border: 1px solid #ddd;
        color: #555;
        text-decoration: none;
        font-weight: 600;
        transition: 0.3s;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .page-btn:not(.disabled):hover {
        background: var(--primary);
        color: #fff;
        border-color: var(--primary);
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(30,144,255,0.3);
    }

    .page-btn.disabled {
        background: #f5f5f5;
        color: #aaa;
        cursor: not-allowed;
        border-color: #eee;
    }

    .page-info {
        font-size: 0.95rem;
        color: #666;
    }
</style>
{% endblock %}
