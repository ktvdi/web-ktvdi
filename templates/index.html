{% extends 'base.html' %}

{% block content %}
<section class="relative bg-white pt-16 pb-24 overflow-hidden">
    <div class="absolute top-0 right-0 w-[600px] h-[600px] bg-brand-surface rounded-full blur-3xl opacity-60 -mr-20 -mt-20"></div>
    <div class="max-w-7xl mx-auto px-4 relative z-10">
        <div class="flex flex-col lg:flex-row items-center gap-16">
            <div class="flex-1 text-center lg:text-left">
                <div class="inline-flex items-center gap-2 px-4 py-1.5 bg-blue-50 border border-blue-100 text-brand-blue text-xs font-bold rounded-full mb-6 shadow-sm">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    Menyongsong Era Baru Penyiaran
                </div>
                <h1 class="text-4xl md:text-6xl font-extrabold text-brand-navy leading-tight mb-6">
                    Selamat Datang di <br> 
                    <span class="text-glossy">Komunitas TV Digital Indonesia</span>
                </h1>
                <p class="text-slate-500 text-lg mb-8 max-w-2xl mx-auto lg:mx-0 leading-relaxed text-justify">
                    Sudah saatnya kita meninggalkan era "semut" dan beralih ke siaran yang jernih, canggih, dan merata. KTVDI bukan sekadar database; kami adalah gerakan partisipatif masyarakat untuk memastikan hak informasi publik terpenuhi. Temukan frekuensi MUX di daerahmu dan jadilah bagian dari revolusi digital ini.
                </p>
                <div class="flex flex-wrap gap-4 justify-center lg:justify-start">
                    <a href="/daftar-siaran" class="px-8 py-4 bg-brand-blue text-white font-bold rounded-xl shadow-xl hover:bg-blue-700 transition flex items-center gap-2 transform hover:-translate-y-1">
                        <i class="fa-solid fa-tower-broadcast"></i> Cek Sinyal Digital
                    </a>
                    {% if not session.get('user') %}
                    <a href="/register" class="px-8 py-4 bg-white border border-slate-200 text-brand-navy font-bold rounded-xl hover:border-brand-blue hover:text-brand-blue transition flex items-center gap-2">
                        <i class="fa-solid fa-user-plus"></i> Gabung Komunitas
                    </a>
                    {% endif %}
                </div>
            </div>
            
            <div class="flex-1 w-full max-w-md">
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center hover:border-brand-blue transition group">
                        <div class="text-4xl font-extrabold text-brand-navy group-hover:text-brand-blue transition">{{ stats.wilayah }}</div>
                        <div class="text-xs text-slate-400 font-bold uppercase mt-1">Wilayah Terjangkau</div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center hover:border-brand-blue transition group">
                        <div class="text-4xl font-extrabold text-brand-navy group-hover:text-brand-blue transition">{{ stats.mux }}</div>
                        <div class="text-xs text-slate-400 font-bold uppercase mt-1">MUX Beroperasi</div>
                    </div>
                    <div class="col-span-2 bg-brand-navy p-8 rounded-2xl shadow-xl text-center text-white relative overflow-hidden group">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-brand-blue rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition"></div>
                        <div class="relative z-10">
                            <div class="text-6xl font-extrabold text-brand-sky mb-2 group-hover:scale-110 transition duration-300">{{ stats.channel }}</div>
                            <div class="text-sm text-slate-300 font-bold uppercase tracking-widest">Total Channel Nasional</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-20 bg-brand-surface border-y border-slate-200">
    <div class="max-w-7xl mx-auto px-4">
        <div class="flex justify-between items-end mb-10">
            <div>
                <span class="text-brand-blue font-bold text-sm uppercase tracking-wider">Streaming Resmi</span>
                <h2 class="text-3xl font-extrabold text-brand-navy mt-2">Nonton TV Digital Online</h2>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-200 hover:shadow-xl transition group">
                <div class="relative aspect-video bg-black group-hover:scale-[1.02] transition duration-500">
                    <video id="vid-ntv" class="w-full h-full object-cover" controls poster="https://source.unsplash.com/800x450/?news"></video>
                    <span class="absolute top-3 left-3 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow animate-pulse">LIVE</span>
                    <div class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition">
                        <span class="bg-black/50 text-white text-[10px] border border-white/20 rounded px-2 py-1">Auto HD</span>
                    </div>
                </div>
                <div class="p-4">
                    <div class="flex items-center justify-between mb-1">
                        <h3 class="font-bold text-brand-navy text-sm">Nusantara TV</h3>
                        <span class="text-[10px] bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1"><i class="fa-solid fa-play"></i> Tayang</span>
                    </div>
                    <p class="text-xs text-slate-500">Berita Aktual</p>
                </div>
            </div>
            <div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-200 hover:shadow-xl transition group">
                <div class="relative aspect-video bg-black group-hover:scale-[1.02] transition duration-500">
                    <video id="vid-matrix" class="w-full h-full object-cover" controls poster="https://source.unsplash.com/800x450/?football"></video>
                    <span class="absolute top-3 left-3 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow animate-pulse">LIVE</span>
                </div>
                <div class="p-4">
                    <div class="flex items-center justify-between mb-1">
                        <h3 class="font-bold text-brand-navy text-sm">Matrix TV</h3>
                        <span class="text-[10px] bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1"><i class="fa-solid fa-play"></i> Tayang</span>
                    </div>
                    <p class="text-xs text-slate-500">Hiburan & Olahraga</p>
                </div>
            </div>
            <div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-200 hover:shadow-xl transition group">
                <div class="relative aspect-video bg-black group-hover:scale-[1.02] transition duration-500">
                    <video id="vid-bsatu" class="w-full h-full object-cover" controls poster="https://source.unsplash.com/800x450/?finance"></video>
                    <span class="absolute top-3 left-3 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow animate-pulse">LIVE</span>
                </div>
                <div class="p-4">
                    <div class="flex items-center justify-between mb-1">
                        <h3 class="font-bold text-brand-navy text-sm">BTV</h3>
                        <span class="text-[10px] bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1"><i class="fa-solid fa-play"></i> Tayang</span>
                    </div>
                    <p class="text-xs text-slate-500">Bisnis & Ekonomi</p>
                </div>
            </div>
            <div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-200 hover:shadow-xl transition group">
                <div class="relative aspect-video bg-black group-hover:scale-[1.02] transition duration-500">
                    <video id="vid-rtv" class="w-full h-full object-cover" controls poster="https://source.unsplash.com/800x450/?cartoon"></video>
                    <span class="absolute top-3 left-3 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow animate-pulse">LIVE</span>
                </div>
                <div class="p-4">
                    <div class="flex items-center justify-between mb-1">
                        <h3 class="font-bold text-brand-navy text-sm">RTV HD</h3>
                        <span class="text-[10px] bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1"><i class="fa-solid fa-play"></i> Tayang</span>
                    </div>
                    <p class="text-xs text-slate-500">Anak & Keluarga</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-24 bg-white">
    <div class="max-w-7xl mx-auto px-4">
        <div class="text-center mb-16">
            <span class="text-brand-blue font-bold text-sm uppercase tracking-wider bg-blue-50 px-3 py-1 rounded-full">Literasi Digital</span>
            <h2 class="text-3xl font-extrabold text-brand-navy mt-4">Panduan & Solusi Masyarakat</h2>
            <p class="text-slate-500 max-w-2xl mx-auto mt-2">Semua yang perlu Anda ketahui agar tidak ketinggalan informasi siaran.</p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-start">
            <div class="space-y-4">
                <h3 class="text-xl font-bold text-brand-navy mb-4 border-b border-slate-100 pb-2">Pertanyaan Umum</h3>
                
                <details class="group bg-brand-surface p-5 rounded-2xl border border-slate-200">
                    <summary class="flex justify-between items-center font-bold text-brand-navy cursor-pointer list-none">
                        Apakah TV Digital Berbayar?
                        <span class="transition group-open:rotate-180 text-brand-blue"><i class="fa-solid fa-chevron-down"></i></span>
                    </summary>
                    <p class="text-slate-600 text-sm mt-4 leading-relaxed">Tidak. Siaran TV Digital DVB-T2 adalah <strong>Free-To-Air (FTA)</strong>, sama seperti TV analog dulu (gratis selamanya). Anda hanya perlu membeli perangkat penerima (STB) sekali di awal.</p>
                </details>

                <details class="group bg-brand-surface p-5 rounded-2xl border border-slate-200">
                    <summary class="flex justify-between items-center font-bold text-brand-navy cursor-pointer list-none">
                        Apa Beda Smart TV dengan Android TV?
                        <span class="transition group-open:rotate-180 text-brand-blue"><i class="fa-solid fa-chevron-down"></i></span>
                    </summary>
                    <p class="text-slate-600 text-sm mt-4 leading-relaxed">Smart TV biasanya menggunakan OS bawaan pabrik (Tizen, WebOS) dengan aplikasi terbatas. Android TV menggunakan OS Google dengan akses PlayStore. Keduanya **BISA** menangkap siaran digital asalkan spesifikasinya mencantumkan **DVB-T2 Ready**.</p>
                </details>

                <details class="group bg-brand-surface p-5 rounded-2xl border border-slate-200">
                    <summary class="flex justify-between items-center font-bold text-brand-navy cursor-pointer list-none">
                        Bagaimana Nonton Piala Dunia 2026?
                        <span class="transition group-open:rotate-180 text-brand-blue"><i class="fa-solid fa-chevron-down"></i></span>
                    </summary>
                    <p class="text-slate-600 text-sm mt-4 leading-relaxed">Hak siar terestrial (UHF) untuk Piala Dunia 2026 dipegang oleh <strong>TVRI (Lembaga Penyiaran Publik)</strong>. Pastikan Anda mendapatkan sinyal MUX TVRI dengan kualitas sinyal minimal 60% agar siaran bola tidak macet.</p>
                </details>

                <details class="group bg-brand-surface p-5 rounded-2xl border border-slate-200">
                    <summary class="flex justify-between items-center font-bold text-brand-navy cursor-pointer list-none">
                        Kenapa Ada Gambar Tapi Tidak Ada Suara?
                        <span class="transition group-open:rotate-180 text-brand-blue"><i class="fa-solid fa-chevron-down"></i></span>
                    </summary>
                    <p class="text-slate-600 text-sm mt-4 leading-relaxed">Ini biasanya masalah codec audio. Pastikan STB atau TV Anda mendukung codec **AC3/Dolby Digital**. Jika tidak, coba ubah pengaturan audio di menu STB ke mode "PCM" atau "Stereo".</p>
                </details>

                <details class="group bg-brand-surface p-5 rounded-2xl border border-slate-200">
                    <summary class="flex justify-between items-center font-bold text-brand-navy cursor-pointer list-none">
                        Apakah Hujan Mempengaruhi Sinyal?
                        <span class="transition group-open:rotate-180 text-brand-blue"><i class="fa-solid fa-chevron-down"></i></span>
                    </summary>
                    <p class="text-slate-600 text-sm mt-4 leading-relaxed">TV Digital lebih tahan cuaca dibanding satelit (Parabola). Namun, hujan sangat lebat bisa sedikit menurunkan kualitas sinyal (attenuation). Gunakan antena outdoor yang kokoh dan kabel coaxial RG6 berkualitas baik untuk meminimalisir ini.</p>
                </details>
            </div>

            <div>
                <h3 class="text-xl font-bold text-brand-navy mb-4 border-b border-slate-100 pb-2">Panduan Instalasi</h3>
                <div class="bg-brand-navy text-white p-8 rounded-3xl relative overflow-hidden shadow-2xl">
                    <div class="absolute top-0 right-0 w-64 h-64 bg-brand-blue rounded-full blur-3xl opacity-20 -mr-10 -mt-10"></div>
                    
                    <div class="relative z-10 space-y-8">
                        <div class="flex gap-4">
                            <div class="w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center text-xl shrink-0 border border-white/10">1</div>
                            <div>
                                <h4 class="font-bold text-brand-sky">Siapkan Antena UHF</h4>
                                <p class="text-sm text-slate-300 mt-1">Wajib pakai antena (bukan parabola). Disarankan antena luar (outdoor) setinggi atap rumah agar bebas halangan.</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div class="w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center text-xl shrink-0 border border-white/10">2</div>
                            <div>
                                <h4 class="font-bold text-brand-sky">Hubungkan STB</h4>
                                <p class="text-sm text-slate-300 mt-1">Colok kabel antena ke lubang "RF IN" di STB. Hubungkan STB ke TV pakai kabel RCA (Kuning-Merah-Putih) atau HDMI.</p>
                            </div>
                        </div>
                        <div class="flex gap-4">
                            <div class="w-12 h-12 bg-white/10 rounded-xl flex items-center justify-center text-xl shrink-0 border border-white/10">3</div>
                            <div>
                                <h4 class="font-bold text-brand-sky">Scan Siaran</h4>
                                <p class="text-sm text-slate-300 mt-1">Nyalakan STB, masukkan Kode Pos (untuk fitur EWS Bencana), lalu pilih "Pencarian Otomatis".</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8 pt-6 border-t border-white/10 text-center">
                        <p class="text-xs text-slate-400 mb-3">Masih bingung caranya?</p>
                        <a href="https://wa.me/" class="inline-block w-full bg-green-600 hover:bg-green-700 text-white font-bold py-3 rounded-xl transition flex items-center justify-center gap-2">
                            <i class="fa-brands fa-whatsapp text-xl"></i> Tanya Komunitas via WA
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const streams = {
            'vid-ntv': 'https://nusantaratv.siar.us/nusantaratv/live/playlist.m3u8',
            'vid-matrix': 'https://stream.matrixtv.id/hls/stream.m3u8',
            'vid-bsatu': 'https://beritasatu.secureswiftcontent.com/han/beritasatu/bsatu10008/srtoutput/manifest.m3u8',
            'vid-rtv': 'https://rtvstream.rtv.co.id:4555/hls/rtv.m3u8'
        };
        for (const [id, url] of Object.entries(streams)) {
            const v = document.getElementById(id);
            if(Hls.isSupported()) { const hls = new Hls(); hls.loadSource(url); hls.attachMedia(v); } 
            else if (v.canPlayType('application/vnd.apple.mpegurl')) { v.src = url; }
        }
    });
</script>
{% endblock %}
