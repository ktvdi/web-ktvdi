{% extends 'base.html' %}

{% block content %}
<section class="relative bg-white pt-16 pb-24 overflow-hidden">
    <div class="absolute top-0 right-0 w-[600px] h-[600px] bg-brand-surface rounded-full blur-3xl opacity-60 -mr-20 -mt-20"></div>
    <div class="max-w-7xl mx-auto px-4 relative z-10">
        <div class="flex flex-col lg:flex-row items-center gap-16">
            <div class="flex-1 text-center lg:text-left">
                <div class="inline-flex items-center gap-2 px-4 py-1.5 bg-blue-50 border border-blue-100 text-brand-blue text-xs font-bold rounded-full mb-6 shadow-sm">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    Menuju Piala Dunia 2026
                </div>
                <h1 class="text-4xl md:text-6xl font-extrabold text-brand-navy leading-tight mb-6">
                    Selamat Datang di <br> 
                    <span class="text-glossy">Komunitas TV Digital Indonesia</span>
                </h1>
                <p class="text-slate-500 text-lg mb-8 max-w-2xl mx-auto lg:mx-0 leading-relaxed text-justify">
                    KTVDI hadir sebagai pusat informasi dan komunitas terdepan untuk memastikan setiap keluarga Indonesia mendapatkan hak siaran digital yang jernih, tajam, dan gratis. Kami menyediakan data MUX akurat dari kontributor di seluruh nusantara.
                </p>
                <div class="flex flex-wrap gap-4 justify-center lg:justify-start">
                    <a href="/daftar-siaran" class="px-8 py-4 bg-brand-blue text-white font-bold rounded-xl shadow-xl hover:bg-blue-700 transition flex items-center gap-2 transform hover:-translate-y-1">
                        <i class="fa-solid fa-tower-broadcast"></i> Cek Frekuensi
                    </a>
                    {% if not session.get('user') %}
                    <a href="/register" class="px-8 py-4 bg-white border border-slate-200 text-brand-navy font-bold rounded-xl hover:border-brand-blue hover:text-brand-blue transition flex items-center gap-2">
                        <i class="fa-solid fa-users"></i> Gabung Komunitas
                    </a>
                    {% endif %}
                </div>
            </div>
            
            <div class="flex-1 w-full max-w-md">
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center hover:border-brand-blue transition group">
                        <div class="text-4xl font-extrabold text-brand-navy group-hover:text-brand-blue transition">{{ stats.wilayah }}</div>
                        <div class="text-xs text-slate-400 font-bold uppercase mt-1">Wilayah</div>
                    </div>
                    <div class="bg-white p-6 rounded-2xl shadow-lg border border-slate-100 text-center hover:border-brand-blue transition group">
                        <div class="text-4xl font-extrabold text-brand-navy group-hover:text-brand-blue transition">{{ stats.mux }}</div>
                        <div class="text-xs text-slate-400 font-bold uppercase mt-1">MUX Aktif</div>
                    </div>
                    <div class="col-span-2 bg-brand-navy p-8 rounded-2xl shadow-xl text-center text-white relative overflow-hidden group">
                        <div class="absolute top-0 right-0 w-32 h-32 bg-brand-blue rounded-full blur-3xl opacity-20 group-hover:opacity-40 transition"></div>
                        <div class="relative z-10">
                            <div class="text-6xl font-extrabold text-brand-sky mb-2 group-hover:scale-110 transition duration-300">{{ stats.channel }}</div>
                            <div class="text-sm text-slate-300 font-bold uppercase tracking-widest">Total Channel Terdata</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-20 bg-brand-surface border-y border-slate-200">
    <div class="max-w-7xl mx-auto px-4">
        <div class="flex justify-between items-end mb-10">
            <div>
                <span class="text-brand-blue font-bold text-sm uppercase tracking-wider">Official Stream</span>
                <h2 class="text-3xl font-extrabold text-brand-navy mt-2">Siaran TV Nasional</h2>
            </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-200 hover:shadow-xl transition group">
                <div class="relative aspect-video bg-black group-hover:scale-[1.02] transition duration-500">
                    <video id="vid-ntv" class="w-full h-full object-cover" controls poster="https://source.unsplash.com/800x450/?news"></video>
                    <span class="absolute top-3 left-3 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow animate-pulse">LIVE</span>
                    <div class="absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition">
                        <span class="bg-black/50 text-white text-[10px] border border-white/20 rounded px-2 py-1">Auto 720p</span>
                    </div>
                </div>
                <div class="p-4">
                    <div class="flex items-center justify-between mb-1">
                        <h3 class="font-bold text-brand-navy text-sm">Nusantara TV</h3>
                        <span class="text-[10px] bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1"><i class="fa-solid fa-play"></i> Memutar</span>
                    </div>
                    <p class="text-xs text-slate-500">Berita Nasional</p>
                </div>
            </div>
            <div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-200 hover:shadow-xl transition group">
                <div class="relative aspect-video bg-black group-hover:scale-[1.02] transition duration-500">
                    <video id="vid-matrix" class="w-full h-full object-cover" controls poster="https://source.unsplash.com/800x450/?football"></video>
                    <span class="absolute top-3 left-3 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow animate-pulse">LIVE</span>
                </div>
                <div class="p-4">
                    <div class="flex items-center justify-between mb-1">
                        <h3 class="font-bold text-brand-navy text-sm">Matrix TV</h3>
                        <span class="text-[10px] bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1"><i class="fa-solid fa-play"></i> Memutar</span>
                    </div>
                    <p class="text-xs text-slate-500">Hiburan & Olahraga</p>
                </div>
            </div>
            <div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-200 hover:shadow-xl transition group">
                <div class="relative aspect-video bg-black group-hover:scale-[1.02] transition duration-500">
                    <video id="vid-bsatu" class="w-full h-full object-cover" controls poster="https://source.unsplash.com/800x450/?finance"></video>
                    <span class="absolute top-3 left-3 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow animate-pulse">LIVE</span>
                </div>
                <div class="p-4">
                    <div class="flex items-center justify-between mb-1">
                        <h3 class="font-bold text-brand-navy text-sm">BTV</h3>
                        <span class="text-[10px] bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1"><i class="fa-solid fa-play"></i> Memutar</span>
                    </div>
                    <p class="text-xs text-slate-500">Ekonomi & Bisnis</p>
                </div>
            </div>
            <div class="bg-white rounded-2xl overflow-hidden shadow-sm border border-slate-200 hover:shadow-xl transition group">
                <div class="relative aspect-video bg-black group-hover:scale-[1.02] transition duration-500">
                    <video id="vid-rtv" class="w-full h-full object-cover" controls poster="https://source.unsplash.com/800x450/?cartoon"></video>
                    <span class="absolute top-3 left-3 bg-red-600 text-white text-[10px] font-bold px-2 py-1 rounded shadow animate-pulse">LIVE</span>
                </div>
                <div class="p-4">
                    <div class="flex items-center justify-between mb-1">
                        <h3 class="font-bold text-brand-navy text-sm">RTV HD</h3>
                        <span class="text-[10px] bg-green-100 text-green-600 px-2 py-0.5 rounded-full font-bold flex items-center gap-1"><i class="fa-solid fa-play"></i> Memutar</span>
                    </div>
                    <p class="text-xs text-slate-500">Keluarga & Anak</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-24 bg-white">
    <div class="max-w-7xl mx-auto px-4">
        <div class="text-center mb-16">
            <span class="text-brand-blue font-bold text-sm uppercase tracking-wider bg-blue-50 px-3 py-1 rounded-full">Pusat Edukasi</span>
            <h2 class="text-3xl font-extrabold text-brand-navy mt-4">Solusi TV Digital Masyarakat</h2>
            <p class="text-slate-500 max-w-2xl mx-auto mt-2">Panduan lengkap untuk menikmati siaran jernih tanpa semut.</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-20">
            <div class="bg-slate-50 p-8 rounded-3xl border border-slate-100 text-center hover:shadow-lg transition">
                <div class="w-16 h-16 bg-blue-100 text-brand-blue rounded-2xl flex items-center justify-center text-2xl mx-auto mb-6"><i class="fa-solid fa-satellite-dish"></i></div>
                <h4 class="font-bold text-brand-navy text-lg mb-2">1. Pasang Antena</h4>
                <p class="text-sm text-slate-500 leading-relaxed">Gunakan antena UHF biasa (disarankan Outdoor). Arahkan ke pemancar MUX terdekat (cek di menu Database).</p>
            </div>
            <div class="bg-slate-50 p-8 rounded-3xl border border-slate-100 text-center hover:shadow-lg transition">
                <div class="w-16 h-16 bg-green-100 text-green-600 rounded-2xl flex items-center justify-center text-2xl mx-auto mb-6"><i class="fa-solid fa-box"></i></div>
                <h4 class="font-bold text-brand-navy text-lg mb-2">2. Sambung STB</h4>
                <p class="text-sm text-slate-500 leading-relaxed">Jika TV Anda belum digital, sambungkan kabel antena ke STB DVB-T2, lalu STB ke TV menggunakan kabel RCA/HDMI.</p>
            </div>
            <div class="bg-slate-50 p-8 rounded-3xl border border-slate-100 text-center hover:shadow-lg transition">
                <div class="w-16 h-16 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center text-2xl mx-auto mb-6"><i class="fa-solid fa-magnifying-glass"></i></div>
                <h4 class="font-bold text-brand-navy text-lg mb-2">3. Scan Otomatis</h4>
                <p class="text-sm text-slate-500 leading-relaxed">Nyalakan STB, masuk menu "Pencarian", pilih "Pencarian Otomatis". Tunggu hingga 100% dan nikmati siaran HD.</p>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
            <div>
                <h3 class="text-2xl font-bold text-brand-navy mb-6">Pertanyaan Populer</h3>
                <div class="space-y-4">
                    <details class="group bg-brand-surface p-5 rounded-2xl border border-slate-200">
                        <summary class="flex justify-between items-center font-bold text-brand-navy cursor-pointer list-none">
                            Apakah TV Digital Berbayar/Langganan?
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down"></i></span>
                        </summary>
                        <p class="text-slate-600 text-sm mt-4 leading-relaxed">Tidak sama sekali. Siaran TV Digital DVB-T2 adalah <strong>Free-To-Air (FTA)</strong>, artinya gratis selamanya seperti TV analog dulu, tapi dengan kualitas gambar yang jauh lebih bersih.</p>
                    </details>
                    <details class="group bg-brand-surface p-5 rounded-2xl border border-slate-200">
                        <summary class="flex justify-between items-center font-bold text-brand-navy cursor-pointer list-none">
                            Kenapa Sinyal Saya Sering Hilang?
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down"></i></span>
                        </summary>
                        <p class="text-slate-600 text-sm mt-4 leading-relaxed">Penyebab utama biasanya adalah: 1. Arah antena kurang pas, 2. Kabel antena kualitas rendah/korosi, 3. Lokasi terhalang gedung tinggi. Coba gunakan fitur "Cek Frekuensi" kami untuk mengetahui arah yang tepat.</p>
                    </details>
                    <details class="group bg-brand-surface p-5 rounded-2xl border border-slate-200">
                        <summary class="flex justify-between items-center font-bold text-brand-navy cursor-pointer list-none">
                            Dimana Nonton Piala Dunia 2026?
                            <span class="transition group-open:rotate-180"><i class="fa-solid fa-chevron-down"></i></span>
                        </summary>
                        <p class="text-slate-600 text-sm mt-4 leading-relaxed">Untuk tahun 2026, hak siar terestrial (UHF) kemungkinan besar akan dipegang oleh <strong>TVRI</strong> atau stasiun swasta pemegang hak resmi. Pastikan Anda scan ulang secara berkala untuk mendapatkan channel tersebut.</p>
                    </details>
                </div>
            </div>
            
            <div class="bg-brand-navy text-white p-8 rounded-3xl relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-brand-blue rounded-full blur-3xl opacity-30 -mr-10 -mt-10"></div>
                <div class="relative z-10">
                    <h3 class="text-2xl font-bold mb-4">Butuh Bantuan Teknis?</h3>
                    <p class="text-slate-300 mb-6 leading-relaxed">Jangan ragu untuk bertanya kepada Asisten AI kami atau bergabung dengan forum komunitas untuk diskusi langsung.</p>
                    <ul class="space-y-3 mb-8">
                        <li class="flex items-center gap-3 text-sm text-slate-200"><i class="fa-solid fa-check-circle text-green-400"></i> Konsultasi Arah Antena</li>
                        <li class="flex items-center gap-3 text-sm text-slate-200"><i class="fa-solid fa-check-circle text-green-400"></i> Rekomendasi STB Terbaik</li>
                        <li class="flex items-center gap-3 text-sm text-slate-200"><i class="fa-solid fa-check-circle text-green-400"></i> Info Gangguan Pemancar</li>
                    </ul>
                    <a href="/register" class="inline-block w-full text-center bg-white text-brand-navy font-bold py-3 rounded-xl hover:bg-brand-sky transition">Gabung Sekarang</a>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const streams = {
            'vid-ntv': 'https://nusantaratv.siar.us/nusantaratv/live/playlist.m3u8',
            'vid-matrix': 'https://stream.matrixtv.id/hls/stream.m3u8',
            'vid-bsatu': 'https://beritasatu.secureswiftcontent.com/han/beritasatu/bsatu10008/srtoutput/manifest.m3u8',
            'vid-rtv': 'https://rtvstream.rtv.co.id:4555/hls/rtv.m3u8'
        };
        for (const [id, url] of Object.entries(streams)) {
            const v = document.getElementById(id);
            if(Hls.isSupported()) { const hls = new Hls(); hls.loadSource(url); hls.attachMedia(v); } 
            else if (v.canPlayType('application/vnd.apple.mpegurl')) { v.src = url; }
        }
    });
</script>
{% endblock %}
